<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HACKER SCANNER - Binance Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        hacker: {
                            50: '#e6f7ff',
                            100: '#c2e5ff',
                            200: '#99d1ff',
                            300: '#66b8ff',
                            400: '#339cff',
                            500: '#0d81ff',
                            600: '#0066cc',
                            700: '#004c99',
                            800: '#003366',
                            900: '#001a33',
                        },
                        neon: {
                            blue: '#00ffff',
                            green: '#00ff00',
                            purple: '#cc00ff'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'scan': 'scan 5s linear infinite',
                        'text-glow': 'text-glow 1.5s ease-in-out infinite alternate',
                        'hacker-text': 'hacker-text 2s linear infinite'
                    },
                    keyframes: {
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100%)' }
                        },
                        'text-glow': {
                            '0%, 100%': { 'text-shadow': '0 0 5px #fff, 0 0 10px #00ffff, 0 0 15px #00ffff, 0 0 20px #00ffff' },
                            '50%': { 'text-shadow': '0 0 5px #fff, 0 0 20px #00ffff, 0 0 30px #00ffff, 0 0 40px #00ffff' }
                        },
                        'hacker-text': {
                            '0%': { opacity: '0.8' },
                            '50%': { opacity: '1' },
                            '100%': { opacity: '0.8' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        
        body {
            font-family: 'Share Tech Mono', monospace;
            background: linear-gradient(135deg, #0d1a2d, #003366);
            color: #00ffff;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .hacker-border {
            border: 1px solid #00ffff;
            box-shadow: 0 0 5px #00ffff, 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        .hacker-bg {
            background: rgba(13, 26, 45, 0.7);
        }
        
        .terminal-text {
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
            white-space: pre;
        }
        
        .terminal-box {
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid #00ff00;
            border-radius: 4px;
            padding: 10px;
            overflow: auto;
            max-height: 150px;
        }
        
        .alert-popup {
            animation: alert-pop 0.5s ease-out forwards;
            transform: scale(0);
        }
        
        @keyframes alert-pop {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .hacker-scanner {
            position: relative;
            overflow: hidden;
        }
        
        .hacker-scanner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 255, 255, 0.1), rgba(0, 255, 255, 0.1));
            animation: scan 4s linear infinite;
            z-index: -1;
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0.5rem;
        }
        
        .coin-box {
            background: rgba(0, 30, 60, 0.5);
            transition: all 0.3s ease;
        }
        
        .coin-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
        }
        
        .rising {
            animation: pulse-green 1.5s infinite;
        }
        
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(0, 255, 100, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 255, 100, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 255, 100, 0); }
        }
        
        .falling {
            color: #ff5555;
            text-shadow: 0 0 5px #ff0000;
        }
        
        .grid-lines {
            background: 
                linear-gradient(rgba(0, 100, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 100, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .text-outline {
            text-shadow: 
                -1px -1px 0 #000,  
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000;
        }
        
        /* Terminal like scrolling effect */
        .console-effect {
            position: relative;
            overflow: hidden;
        }
        
        .console-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
                rgba(0, 30, 60, 0.1) 0%,
                rgba(0, 30, 60, 0.2) 10%,
                transparent 30%,
                transparent 70%,
                rgba(0, 30, 60, 0.2) 90%,
                rgba(0, 30, 60, 0.1) 100%);
            pointer-events: none;
        }
        
        /* Status bar effects */
        .status-bar {
            position: relative;
            overflow: hidden;
        }
        
        .status-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            animation: status-flow 3s linear infinite;
        }
        
        @keyframes status-flow {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
</head>
<body class="relative grid-lines">
    <!-- Matrix background effect -->
    <div id="matrix" class="fixed inset-0 -z-10 opacity-10"></div>
    
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="hacker-bg py-4 px-6 border-b border-neon-blue hacker-border">
            <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
                <h1 class="text-3xl font-bold text-neon-blue animate-text-glow text-center mb-2 md:mb-0">
                    <i class="fas fa-terminal mr-2"></i>HACKER SCANNER
                </h1>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <i class="fas fa-database text-neon-green mr-2 text-xl animate-pulse"></i>
                        <span class="terminal-text">IndexDB Online</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-wifi text-neon-green mr-2 text-xl animate-pulse"></i>
                        <span class="terminal-text">API Binance Active</span>
                    </div>
                    <button id="soundBtn" class="text-neon-blue hover:text-white transition">
                        <i class="fas fa-volume-up text-2xl"></i>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="flex-1 container mx-auto px-4 py-8">
            <!-- Scanner Section -->
            <div class="hacker-scanner hacker-bg rounded-xl hacker-border p-6 mb-8">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-neon-blue animate-text-glow mb-4 md:mb-0">
                        <i class="fas fa-satellite-dish mr-2"></i>ACTIVE SCANNING SYSTEM
                    </h2>
                    <div class="status-bar px-4 py-2 rounded-full bg-hacker-800">
                        <span id="status" class="terminal-text font-bold animate-text-glow">INITIALIZING DATABASE...</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Timer Box -->
                    <div class="console-effect hacker-bg rounded-lg p-6 hacker-border">
                        <h3 class="text-xl text-neon-green mb-4 flex items-center">
                            <i class="fas fa-clock mr-2"></i> NEXT SCAN CYCLE
                        </h3>
                        <div class="flex justify-center items-center h-32">
                            <div class="text-6xl font-bold text-neon-blue" id="countdown">03:00</div>
                        </div>
                        <div class="text-center mt-4 text-neon-green">
                            <i class="fas fa-sync-alt mr-2 animate-spin"></i>Updating every 3 minutes
                        </div>
                    </div>
                    
                    <!-- Active Opportunities -->
                    <div class="console-effect hacker-bg rounded-lg p-6 hacker-border">
                        <h3 class="text-xl text-neon-green mb-4 flex items-center">
                            <i class="fas fa-bolt mr-2"></i> LIVE OPPORTUNITIES
                        </h3>
                        <div class="terminal-box" id="opportunities">
                            <div class="terminal-text">SCANNING...</div>
                        </div>
                    </div>
                    
                    <!-- Statistics -->
                    <div class="console-effect hacker-bg rounded-lg p-6 hacker-border">
                        <h3 class="text-xl text-neon-green mb-4 flex items-center">
                            <i class="fas fa-chart-line mr-2"></i> SYSTEM STATS
                        </h3>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span>Pairs Scanned:</span>
                                <span id="pairsCount" class="text-neon-blue">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Opportunities Found:</span>
                                <span id="opportunitiesCount" class="text-neon-green">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Last Scan:</span>
                                <span id="lastScan" class="text-neon-blue">--:--:--</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Next Scan:</span>
                                <span id="nextScan" class="text-neon-blue">--:--:--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Cryptocurrency Grid -->
            <div class="hacker-scanner hacker-bg rounded-xl hacker-border p-6">
                <h2 class="text-2xl font-bold text-neon-blue animate-text-glow mb-6">
                    <i class="fas fa-coins mr-2"></i>CRYPTOCURRENCY MONITOR
                </h2>
                <div class="data-grid" id="cryptoGrid">
                    <!-- Dynamic crypto boxes will be inserted here -->
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="hacker-bg border-t border-neon-blue hacker-border py-4">
            <div class="container mx-auto text-center">
                <div class="terminal-text">HACKER SCANNER SYSTEM v1.0 - © 2023 BINANCE MONITOR</div>
            </div>
        </footer>
    </div>
    
    <!-- Opportunity Alert Modal -->
    <div id="opportunityAlert" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="alert-popup hacker-scanner hacker-bg p-8 rounded-xl hacker-border w-full max-w-md text-center relative">
            <div class="absolute top-2 right-2">
                <button id="closeAlert" class="text-neon-green hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="flex justify-center mb-4">
                <i class="fas fa-bolt text-4xl text-neon-green animate-pulse"></i>
            </div>
            <h3 class="text-2xl font-bold text-neon-green mb-4 animate-text-glow">OPPORTUNIDADE DETECTADA!</h3>
            <div class="space-y-2 mb-6 terminal-text">
                <div id="alertCoin">BTCUSDT</div>
                <div id="alertOldPrice">$68,900.00 →</div>
                <div id="alertNewPrice" class="text-2xl font-bold text-neon-green">$69,400.00</div>
                <div id="alertChange">+0.73%</div>
            </div>
            <button id="actionButton" class="bg-neon-green text-gray-900 font-bold py-2 px-6 rounded-full hover:bg-opacity-90 transition w-full">
                EXECUTE BUY ORDER
            </button>
        </div>
    </div>
    
    <!-- Matrix Effect Script -->
    <script>
        // Matrix effect for hacker theme
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.createElement('canvas');
            canvas.id = 'matrixCanvas';
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.zIndex = '-20';
            document.getElementById('matrix').appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // Matrix characters (katakana)
            const chars = ["ﾊ","ﾐ","ﾋ","ｰ","ｳ","ｼ","ﾅ","ﾓ","ﾆ","ｻ","ﾜ","ﾂ","ｵ","ﾘ","ｱ","ﾎ","ﾃ","ﾏ","ｹ","ﾒ","ｴ","ｶ","ｷ","ﾑ","ﾕ","ﾗ","ｾ","ﾈ","ｽ","ﾂ","ﾀ","ﾇ","ﾍ",":","・",".","=","*","+","-","<",">","¦","｜","ﾘ"];
            const charSize = 14;
            const columns = canvas.width / charSize;
            const drops = [];
            
            // Initialize drops
            for(let i = 0; i < columns; i++) {
                drops[i] = Math.floor(Math.random() * canvas.height / charSize);
            }
            
            function drawMatrix() {
                // Semi-transparent background to create fading effect
                ctx.fillStyle = 'rgba(10, 20, 30, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Set style for characters
                ctx.fillStyle = '#00ffff';
                ctx.font = charSize + 'px monospace';
                
                // Draw characters
                for(let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    const x = i * charSize;
                    const y = drops[i] * charSize;
                    
                    ctx.fillText(text, x, y);
                    
                    // Reset drop at bottom of screen
                    if(y > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    
                    drops[i]++;
                }
            }
            
            // Resize handler
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                drops.length = canvas.width / charSize;
                for(let i = 0; i < drops.length; i++) {
                    drops[i] = Math.floor(Math.random() * canvas.height / charSize);
                }
            });
            
            // Animation loop
            setInterval(drawMatrix, 50);
            
            // Initial draw
            drawMatrix();
        });
    </script>
    
    <!-- Main Application Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM elements
            const statusElement = document.getElementById('status');
            const countdownElement = document.getElementById('countdown');
            const opportunitiesElement = document.getElementById('opportunities');
            const opportunitiesCountElement = document.getElementById('opportunitiesCount');
            const cryptoGridElement = document.getElementById('cryptoGrid');
            const pairsCountElement = document.getElementById('pairsCount');
            const lastScanElement = document.getElementById('lastScan');
            const nextScanElement = document.getElementById('nextScan');
            const alertPopup = document.getElementById('opportunityAlert');
            const alertCoin = document.getElementById('alertCoin');
            const alertOldPrice = document.getElementById('alertOldPrice');
            const alertNewPrice = document.getElementById('alertNewPrice');
            const alertChange = document.getElementById('alertChange');
            const closeAlertBtn = document.getElementById('closeAlert');
            const actionButton = document.getElementById('actionButton');
            const soundBtn = document.getElementById('soundBtn');
            
            // State variables
            let db;
            let scanInterval;
            let coinsData = [];
            let opportunitiesFound = 0;
            let scanCounter = 0;
            let lastScanTime = null;
            let soundEnabled = true;
            const coins = ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'SOLUSDT', 'XRPUSDT', 'ADAUSDT', 'DOTUSDT', 'DOGEUSDT', 'AVAXUSDT', 'LINKUSDT'];
            
            // Initialize database
            function initDB() {
                const request = indexedDB.open('CryptoScannerDB', 1);
                
                request.onupgradeneeded = (event) => {
                    db = event.target.result;
                    if (!db.objectStoreNames.contains('prices')) {
                        const store = db.createObjectStore('prices', { keyPath: 'symbol' });
                        store.createIndex('symbol', 'symbol', { unique: true });
                    }
                };
                
                request.onsuccess = (event) => {
                    db = event.target.result;
                    statusElement.textContent = 'SCANNING FOR INITIAL DATA...';
                    fetchData();
                };
                
                request.onerror = (event) => {
                    console.error('Database error:', event.target.error);
                    statusElement.textContent = 'DATABASE ERROR - RETRYING...';
                    setTimeout(initDB, 2000);
                };
            }
            
            // Fetch data from Binance API
            function fetchData() {
                // Simulating API call to Binance
                statusElement.textContent = 'FETCHING DATA FROM BINANCE API...';
                
                setTimeout(() => {
                    // Generate random prices for demo purposes
                    const newPrices = coins.map(symbol => ({
                        symbol,
                        price: (Math.random() * 100000).toFixed(2)
                    }));
                    
                    scanCounter++;
                    lastScanTime = new Date();
                    
                    // Check for changes
                    checkForChanges(newPrices);
                    
                    // Update last and next scan times
                    updateScanTimes();
                    
                    // Update stats
                    pairsCountElement.textContent = newPrices.length;
                    
                    // Create crypto boxes
                    createCryptoBoxes(newPrices);
                    
                    // Restart countdown
                    startCountdown(180); // 3 minutes
                    
                    statusElement.textContent = `SCAN COMPLETE (${scanCounter}) - FOUND ${opportunitiesFound} OPPORTUNITIES`;
                }, 2000);
            }
            
            // Check for price changes
            function checkForChanges(newPrices) {
                opportunitiesFound = 0;
                opportunitiesElement.innerHTML = '';
                
                // For each coin, compare with stored value
                newPrices.forEach((coin, index) => {
                    setTimeout(() => {
                        getPreviousPrice(coin.symbol)
                            .then(prevPrice => {
                                if (prevPrice) {
                                    const change = ((coin.price - prevPrice) / prevPrice * 100).toFixed(2);
                                    
                                    if (coin.price > prevPrice) {
                                        // Opportunity found!
                                        opportunitiesFound++;
                                        opportunitiesCountElement.textContent = opportunitiesFound;
                                        
                                        // Create alert
                                        const oppElement = document.createElement('div');
                                        oppElement.className = 'terminal-text text-neon-green';
                                        oppElement.innerHTML = `OPPORTUNITY: ${coin.symbol} +${change}%`;
                                        opportunitiesElement.appendChild(oppElement);
                                        
                                        // Show alert popup
                                        if (opportunitiesFound === 1) {
                                            showAlert(coin, prevPrice, change);
                                        }
                                    }
                                    
                                    // Add blinking effect to rising coins
                                    const cryptoBox = document.getElementById(`box-${coin.symbol}`);
                                    if (cryptoBox) {
                                        if (coin.price > prevPrice) {
                                            cryptoBox.classList.add('rising');
                                        } else if (coin.price < prevPrice) {
                                            cryptoBox.querySelector('.price').classList.add('falling');
                                        }
                                        
                                        setTimeout(() => {
                                            cryptoBox.classList.remove('rising');
                                            cryptoBox.querySelector('.price').classList.remove('falling');
                                        }, 3000);
                                    }
                                }
                                
                                // Save new price
                                savePrice(coin.symbol, coin.price);
                            });
                    }, index * 500); // Staggered for visual effect
                });
            }
            
            // Save price to IndexedDB
            function savePrice(symbol, price) {
                const tx = db.transaction('prices', 'readwrite');
                const store = tx.objectStore('prices');
                const item = {
                    symbol,
                    price: parseFloat(price),
                    timestamp: new Date().getTime()
                };
                store.put(item);
            }
            
            // Get previous price from IndexedDB
            function getPreviousPrice(symbol) {
                return new Promise((resolve, reject) => {
                    const tx = db.transaction('prices', 'readonly');
                    const store = tx.objectStore('prices');
                    const request = store.get(symbol);
                    
                    request.onsuccess = (event) => {
                        resolve(event.target.result?.price);
                    };
                    
                    request.onerror = (event) => {
                        reject(event.target.error);
                    };
                });
            }
            
            // Update scan times in UI
            function updateScanTimes() {
                if (lastScanTime) {
                    lastScanElement.textContent = lastScanTime.toLocaleTimeString();
                    
                    const nextScanTime = new Date(lastScanTime.getTime() + 180000);
                    nextScanElement.textContent = nextScanTime.toLocaleTimeString();
                }
            }
            
            // Start countdown timer
            function startCountdown(duration) {
                let timer = duration, minutes, seconds;
                
                function updateCountdown() {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);
                    
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    
                    countdownElement.textContent = minutes + ":" + seconds;
                    
                    // Pulse every second
                    countdownElement.classList.toggle('text-opacity-80');
                    setTimeout(() => countdownElement.classList.toggle('text-opacity-80'), 500);
                    
                    timer--;
                    
                    if (timer < 0) {
                        fetchData();
                    }
                }
                
                // Update immediately
                updateCountdown();
                
                // Set interval for countdown
                clearInterval(scanInterval);
                scanInterval = setInterval(updateCountdown, 1000);
            }
            
            // Show opportunity alert
            function showAlert(coin, prevPrice, change) {
                alertCoin.textContent = coin.symbol;
                alertOldPrice.textContent = `$${parseFloat(prevPrice).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                alertNewPrice.textContent = `$${parseFloat(coin.price).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                alertChange.textContent = `+${change}%`;
                
                alertPopup.classList.remove('hidden');
                
                // Play sound if enabled
                if (soundEnabled) {
                    const audio = new Audio('https://www.soundjay.com/buttons/beep-01a.mp3');
                    audio.play().catch(e => console.log('Audio play prevented:', e));
                }
            }
            
            // Create crypto boxes
            function createCryptoBoxes(prices) {
                cryptoGridElement.innerHTML = '';
                
                prices.forEach(coin => {
                    const box = document.createElement('div');
                    box.className = 'coin-box hacker-border rounded-lg p-4 text-center cursor-pointer';
                    box.id = `box-${coin.symbol}`;
                    
                    box.innerHTML = `
                        <div class="font-bold text-lg mb-1 terminal-text">${coin.symbol}</div>
                        <div class="price text-xl font-mono text-neon-blue">$${parseFloat(coin.price).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</div>
                        <div class="text-xs text-gray-400 mt-1">Binance Spot</div>
                    `;
                    
                    cryptoGridElement.appendChild(box);
                });
            }
            
            // Event Listeners
            closeAlertBtn.addEventListener('click', () => {
                alertPopup.classList.add('hidden');
            });
            
            actionButton.addEventListener('click', () => {
                alertPopup.classList.add('hidden');
                // Simulate executing trade
                statusElement.textContent = 'EXECUTING BUY ORDER...';
                setTimeout(() => {
                    statusElement.textContent = `BUY ORDER COMPLETED FOR ${alertCoin.textContent}`;
                }, 1500);
            });
            
            soundBtn.addEventListener('click', () => {
                soundEnabled = !soundEnabled;
                const icon = soundBtn.querySelector('i');
                icon.classList.toggle('fa-volume-up');
                icon.classList.toggle('fa-volume-mute');
            });
            
            // Initialize
            initDB();
            
            // Set current time for demo
            const now = new Date();
            lastScanElement.textContent = now.toLocaleTimeString();
            
            const nextTime = new Date(now.getTime() + 180000);
            nextScanElement.textContent = nextTime.toLocaleTimeString();
        });
    </script>
</body>
</html>
